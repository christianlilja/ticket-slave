{% extends "base.html" %}
{% block title %}Edit User{% endblock %}

{% block content %}
<h2>Edit User: {{ user['username'] }}</h2>

<form method="post">
    <div class="mb-3">
        <label for="email" class="form-label">Email Address</label>
        <input type="email" name="email" id="email" class="form-control" value="{{ user['email'] or '' }}">
    </div>

    <div class="form-check mb-2">
        <input type="checkbox" class="form-check-input" id="notify_email" name="notify_email" {% if user['notify_email'] %}checked{% endif %}>
        <label class="form-check-label" for="notify_email">Enable Email Notifications</label>
    </div>

    <div class="mb-3"></div>

    <div class="mb-3">
        <label for="pushover_user_key" class="form-label">Pushover User Key</label>
        <input type="text" name="pushover_user_key" id="pushover_user_key" class="form-control" value="{{ user['pushover_user_key'] or '' }}">
    </div>

    <div class="mb-3">
        <label for="pushover_api_token" class="form-label">Pushover API Token</label>
        <input type="text" name="pushover_api_token" id="pushover_api_token" class="form-control" value="{{ user['pushover_api_token'] or '' }}">
    </div>

    <div class="form-check mb-2">
        <input type="checkbox" class="form-check-input" id="notify_pushover" name="notify_pushover" {% if user['notify_pushover'] %}checked{% endif %}>
        <label class="form-check-label" for="notify_pushover">Enable Pushover Notifications</label>
    </div>

    <div class="mb-3"></div>

    <div class="mb-3">
        <label for="apprise_url" class="form-label">Apprise URL</label>
        <input type="text" name="apprise_url" id="apprise_url" class="form-control" value="{{ user['apprise_url'] or '' }}">
    </div>

    <div class="form-check mb-4">
        <input type="checkbox" class="form-check-input" id="notify_apprise" name="notify_apprise" {% if user['notify_apprise'] %}checked{% endif %}>
        <label class="form-check-label" for="notify_apprise">Enable Apprise Notifications</label>
    </div>

    <hr>

    <h4>Change Password</h4>
    <div class="mb-3">
        <label for="new_password" class="form-label">New Password</label>
        <input type="password" name="new_password" id="new_password" class="form-control" placeholder="Leave empty to keep current password">
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{{ url_for('manage_users') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
